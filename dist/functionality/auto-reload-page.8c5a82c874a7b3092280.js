"use strict";(self.cmlsAmpUtils=self.cmlsAmpUtils||[]).push([[800],{6100:function(t,i,e){e.r(i),e(560);const{Logger:o,playerTools:s}=window.__CMLSINTERNAL.libs,{detectPlayer:n,addAfterPageFrame:r,navigateThroughPlayer:a}=s,l=new o("AUTO-RELOAD PAGE 0.4");((t,i)=>{const e=t;e._CMLS=e._CMLS||{};class o{defaults={condition:"body.home",timeout:8};settings={};timer=null;timeout=null;active=!1;log_timer=null;constructor(t=!1){t instanceof Object&&(l.info("Instantiated with options",t),this.settings=Object.assign(this.defaults,t),this.start())}checkCondition(){const i=t.self.location.pathname;return!!(i.length<1||"/"===i)}start(i={}){!i instanceof Object?l.error("Received malformed options"):(this.settings=Object.assign(this.defaults,this.settings,i),this.stop(),this.checkCondition()?(this.timeout=new Date(Date.now()+6e4*this.settings.timeout),this.timer=setInterval((()=>this.tick()),1e3),this.active=!0,l.info("Timer initialized",this.timeout?.toISOString()||this.timeout.toUTCString())):l.info("Condition check failed, timer will not start",{tag:t.self.document.body,must_match:this.settings.condition}))}stop(){this.timer&&(l.info("Stopping timer"),clearInterval(this.timer),this.timer=null,this.active=!1),this.log_timer=null}tick(){this.log_timer||(this.log_timer=new Date);const t=new Date;t-this.log_timer>3e4&&(l.debug({headerLength:1/0,message:["Checking timer (This notice is random to reduce noise)",[t.toLocaleString(),this.timeout.toLocaleString()]]}),this.log_timer=new Date),t.getTime()>this.timeout.getTime()&&this.fire()}fire(){if(this.stop(),!this.checkCondition())return void l.info("Condition check failed, timer will not fire or restart.");const i=e.location.protocol,o=e.location.hostname;let s=e.location.href.replace(`${i}//${o}`,"");if(s.length<1&&(s="/"),"function"==typeof t._CMLS?.clearAutoRefreshAdsExclusion&&t._CMLS.clearAutoRefreshAdsExclusion(),n())return l.info("Reloading page through player."),void a(s);e.location.href=s}push(t){l.info("Received request after initialization.",t),this.start(t)}}const s=new o;e._CMLS.autoReload=new o(e._CMLS.autoReload.pop()),r((()=>{s.stop()}))})(window.self)}}]);