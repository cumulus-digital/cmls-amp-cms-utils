"use strict";(self.cmlsAmpUtils=self.cmlsAmpUtils||[]).push([[800],{6100:function(t,i,e){e.r(i),e(560);const{Logger:o,playerTools:s}=window.__CMLSINTERNAL.libs,{detectPlayer:n,addAfterPageFrame:a,navigateThroughPlayer:r}=s,c=new o("AUTO-RELOAD PAGE 0.4");((t,i)=>{const e=t;e._CMLS=e._CMLS||{};class o{defaults={condition:"body.home",timeout:8};settings={};timer=null;timeout=null;active=!1;constructor(t=!1){t instanceof Object&&(c.info("Instantiated with options",t),this.settings=Object.assign(this.defaults,t),this.start())}checkCondition(){const i=t.self.location.pathname;return!!(i.length<1||"/"===i)}start(i={}){!i instanceof Object?c.error("Received malformed options"):(this.settings=Object.assign(this.defaults,this.settings,i),this.stop(),this.checkCondition()?(this.timeout=new Date(Date.now()+6e4*this.settings.timeout),this.timer=setInterval((()=>this.tick()),1e3),this.active=!0,c.info("Timer initialized",this.timeout?.toISOString()||this.timeout.toUTCString())):c.info("Condition check failed, timer will not start",{tag:t.self.document.body,must_match:this.settings.condition}))}stop(){this.timer&&(c.info("Stopping timer"),clearInterval(this.timer),this.timer=null,this.active=!1)}tick(){const t=new Date;Math.random()>.95&&c.debug({headerLength:1/0,message:["Checking timer (This notice is random to reduce noise)",[t.toLocaleString(),this.timeout.toLocaleString()]]}),t.getTime()>this.timeout.getTime()&&this.fire()}fire(){if(this.stop(),!this.checkCondition())return void c.info("Condition check failed, timer will not fire or restart.");const i=e.location.protocol,o=e.location.hostname;let s=e.location.href.replace(`${i}//${o}`,"");if(s.length<1&&(s="/"),"function"==typeof t._CMLS?.clearAutoRefreshAdsExclusion&&t._CMLS.clearAutoRefreshAdsExclusion(),n())return c.info("Reloading page through player."),void r(s);e.location.href=s}push(t){c.info("Received request after initialization.",t),this.start(t)}}const s=new o;e._CMLS.autoReload=new o(e._CMLS.autoReload.pop()),a((()=>{s.stop()}))})(window.self)}}]);