(()=>{var t={696:(t,e,i)=>{"use strict";i.r(e);var n=i(583),o=i(301);((t,e)=>{const i="autoRefreshAds",r=new n.ZP("AUTO REFRESH ADS 0.2");function s(){try{t.parent._CMLS[i].destroy(),t._CMLS[i].destroy()}catch(t){}t._CMLS[i]=new class{tabVisible=!0;timer=null;fireTime=null;state="off";constructor(t){t&&t instanceof Date&&(this.fireTime=t,this.start(this.fireTime));const e=this;(0,o.WL)((()=>{-1===(0,o.pn)()&&(e.tabVisible=!1),r.info("Caught visibility change",e.tabVisible,(0,o.pn)()),e.tabVisible&&1==!(0,o.pn)()&&(e.tabVisible=!1),e.tabVisible||!0!==(0,o.pn)()||(e.tabVisible=!0)})),this.tabVisible=!0===(0,o.pn)()}checkConditions(){return t?.top?._CMLS?.autoReload&&t.top._CMLS.autoReload.active?(r.info("AutoReloadPAGE is active, ads will not refresh."),-1):t.DISABLE_AUTO_REFRESH_ADS?(r.info("DISABLE_AUTO_REFRESH_ADS has been set, ads will not refresh."),-1):this.tabVisible?1:(r.info("Tab is hidden."),0)}checkTimer(){const t=this.checkConditions();if(1===t){const t=new Date;if(Math.random()>.8&&r.debug({headerLength:1/0,message:["Checking timer (This notice is random to reduce noise)",[t.toLocaleString(),this.fireTime.toLocaleString()]]}),t.getTime()>=this.fireTime.getTime())return void this.fire()}-1!==t?this.timer=setTimeout((()=>this.checkTimer()),1e3):this.stop()}isElVisible(e){if(!e)return!1;"function"==typeof jQuery&&e instanceof jQuery&&(e=e[0]);const i=e.getAttribute("style");"none"===t.getComputedStyle(e).display&&e.setAttribute("style","display:block; width:1px; height:1px");const n=e.getBoundingClientRect();if(e.setAttribute("style",i),n?.width>0&&n?.height>0){if(n.width=n?.right-n?.left,n.height=n?.bottom-n?.top,!n.width||!n.height)return!1;const e=.25*n.height,i=.25*n.width,o={top:n?.top+e,right:n?.right-i,bottom:n?.bottom-e,left:n?.left+i},r=t.innerHeight||t.document.documentElement.clientHeight,s=t.innerWidth||t.document.documentElement.clientWidth;return o.bottom>=0&&o.top<=r&&o.right>=0&&o.left<=s}return!1}fire(){const e=this;1!==this.checkConditions()?(r.info("Conditions not met, skipping this cycle."),e.start()):t._CMLS.adTag.queue((()=>{r.info("Refreshing viewable page ads."),e.resetFireTime();try{const i=t._CMLS.adTag.pubads().getSlots().filter((i=>{const n=i.getSlotElementId(),o=t.document.getElementById(n);if(!o)return r.info("Element not found in page",n),!1;if(t._CMLS.autoRefreshAdsExclusion.includes(n))return r.info("ID excluded",n),!1;if(o&&e.isElVisible(o))return i;const s=i.getTargeting("pos");return s&&s.length&&s.includes("wallpaper-ad")?i:void 0}));i.length?(i.forEach((t=>{r.info({element:t.getSlotElementId(),ad_id:t.getSlotId(),path:t.getAdUnitPath(),sizes:t.getSizes(),slot:t})})),t._CMLS.adTag.refresh(i)):r.info("No slots visible.")}catch(t){r.warn("Failed to refresh ads",t)}e.start()}))}checkState(){return this.state}stop(){r.info("Stopping timer."),clearTimeout(this.timer),this.timer=null,this.fireTime=null,this.state=!1}pause(){r.info("Pausing timer.",this.fireTime),clearTimeout(this.timer),this.timer=null}restart(){r.info("Restarting timer",this.fireTime),this.checkTimer()}start(t){return this.stop(),1===this.checkConditions()&&(t&&t instanceof Date?(r.info("Start called with an initial fire time",t),this.fireTime=t):this.resetFireTime(),r.info("Starting timer, will fire at "+this.fireTime.toLocaleString()),this.checkTimer(),this.state=!0),this}destroy(){this.stop()}getFireTime(){return this.fireTime}resetFireTime(){this.fireTime=new Date((new Date).getTime()+6e4*t._CMLS.autoRefreshAdsTimer)}},t._CMLS[i].start()}t.location.search.includes("cmlsDisableAdRefresh")?r.info("Disabled by cmlsDisableAdRefresh query"):t.DISABLE_AUTO_REFRESH_ADS?r.info("Disabled locally with window.DISABLE_AUTO_REFRESH_ADS"):(t._CMLS=t._CMLS||{},t._CMLS.autoRefreshAdsTimer=t?._CMLS?.autoRefreshAdsTimer||1,t._CMLS.autoRefreshAdsExclusion=t?._CMLS?.autoRefreshAdsExclusion||[],t?._CMLS?.adPath?s():t.addEventListener("cmls-adpath-discovered",(()=>s())))})(window.self)},606:(t,e,i)=>{i(611),i(710),i(696),i(850),i(417),i(798),i(124),i(181),i(150),i(330),i(151)},611:(t,e,i)=>{"use strict";i.r(e);var n=i(583),o=i(217),r=i(96);class s{scriptName="DEFAULT ADTAG INTERFACE";nameSpace="defaultAdtagInterface";parentNameSpace="adTagDetection";version="x";static identity="DEFAULT";static detectTag(){}constructor(){this.log=new n.ZP(`${this.scriptName} v${this.version}`)}rawInterface(){}queue(t){return this.rawInterface().cmd.push(t)}pubads(){return this.rawInterface().pubads()}setTargeting(t,e){}isInitialLoadDisabled(){return!1}defaultDefineSlotOptions(){return{adUnitPath:null,size:[],div:null,collapse:!0,targeting:[],init:!0,prebid:!1}}defineSlot(t){return{}}display(t){}refresh(t){}wasSlotRequested(t){return!1}doInitialLoad(t){}filterSlots(t){if(t)return Array.isArray(t)||(t=[t]),t;this.log.warn("Filter called without slots",t)}listSlotData(t){return[]}addListener(){}removeListener(){}}class a extends s{scriptName="GPT INTERFACE";version="0.1";log=null;static identity="GPT";static detectTag(){if(window.self.googletag?.pubadsReady)return!0}initialRequestKey="initial-request-made";constructor(){super(),this.log=new n.ZP(`${this.scriptName} v${this.version}`);const t=this;t.addListener("slotRequested",(e=>{e.slot.getTargeting(t.initialRequestKey)?.length||(t.log.info("Setting initial request key",t.listSlotData(e.slot)),e.slot.setTargeting(t.initialRequestKey,!0))}))}rawInterface(){return window.self?.googletag}addListener(t,e){const i=this;this.queue((()=>{i.pubads().addEventListener(t,e)}))}removeListener(t,e){return this.pubads().removeEventListener(t,e)}setTargeting(t,e){return this.pubads().setTargeting(t,e)}isInitialLoadDisabled(){return this.pubads().isInitialLoadDisabled()}defineSlot(t){const e=Object.assign(this.defaultDefineSlotOptions(),t);let i=this.rawInterface().defineSlot(e.adUnitPath,e.size,e.div);return i?(e.collapse&&(Array.isArray(e.collapse)||(e.collapse=[e.collapse]),i=i.setCollapseEmptyDiv.apply(i,e.collapse)),e.targeting=Array.isArray(e.targetting)?e.targeting:[e.targeting],e.targeting.forEach((t=>{for(const e in t)t?.hasOwnProperty(e)&&(i=i.setTargeting(e,t[e]))})),e.init&&(i=i.addService(this.pubads())),this.log.info("Defined slot",{slot:this.listSlotData(i).shift(),settings:e}),window.GPT_SITE_SLOTS=window.GPT_SITE_SLOTS||{},window.GPT_SITE_SLOTS[i.getSlotElementId()]=i,i):(this.log.error("Failed to create slot!",e),!1)}display(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=this;this.queue((()=>{if(this.log.info("Calling display",t,e),i.rawInterface().display(t),e){const e=i.pubads().getSlots().find((e=>e.getSlotElementId()===t));e&&i.doInitialLoad(e)}}))}refresh(t){if(!t)return void this.log.warn("Refresh called without slots");Array.isArray(t)||(t=[t]);const e=this.filterSlots(t);if(e?.length)return this.log.info("Refresh called for slots",this.listSlotData(e)),this.pubads().refresh(e);this.log.info("No slots found for refreshing after filtering.")}wasSlotRequested(t){const e=this;if(t.getTargeting(e.initialRequestKey)?.length)return e.log.info("Has initial request key",e.listSlotData(t)),!0;if(t.getResponseInformation())return e.log.info("Has response info",e.listSlotData(t)),!0;const i=window.self.document.getElementById(t.getSlotElementId());return!!i?.getAttribute("data-google-query-id")&&(e.log.info("Has data attribute",e.listSlotData(t)),!0)}doInitialLoad(t){const e=this;t?(Array.isArray(t)||(t=[t]),e.isInitialLoadDisabled()?(e.log.info("Initial load requested while initial load is disabled, this will be delayed",e.listSlotData(t)),setTimeout((()=>{const i=[],n=[];t.forEach((t=>{e.wasSlotRequested(t)?n.push(t):i.push(t)})),i.length&&(e.log.info("Delayed initial load firing",e.listSlotData(i)),e.refresh(i)),n.length&&e.log.info("Slots were already requested",e.listSlotData(n))}),500)):e.queue((()=>{e.log.info("Instant initial load refresh",e.listSlotData(t)),e.refresh(t)}))):e.log.warn("doInitialLoad called without slots")}filterSlots(t){if(!t)return void this.log.warn("Filter called without slots",t);Array.isArray(t)||(t=[t]);const e=[];return t.forEach((t=>{t?.getSlotElementId()&&e.push(t)})),!!e.length&&e}listSlotData(t){Array.isArray(t)||(t=[t]);const e=[];return t.forEach((t=>{const i={adUnitPath:t?.getAdUnitPath(),div:t?.getSlotElementId(),sizes:t?.getSizes(),targeting:[]},n=t?.getTargetingKeys();if(n?.length)for(let e of n)i.targeting.push({[e]:t?.getTargeting(e)});e.push(i)})),e}}const d=[class extends a{scriptName="APS-GPT INTERFACE";version="0.1";log=null;static identity="APS-GPT";static detectTag(){if(super.detectTag()&&window?.apstag)return!0}constructor(){super(),this.log=new n.ZP(`${this.scriptName} v${this.version}`)}defineSlot(t){const e=Object.assign(this.defaultDefineSlotOptions(),t);return!1!==e?.prebid||e?.targeting?.noprebid||(e.targeting.noprebid="noprebid"),super.defineSlot(e)}filterPrebidSlots(t){const e=this;if(!t)return void e.log.warn("filterPrebidSlots called without slots");Array.isArray(t)||(t=[t]);const i={prebid:[],noprebid:[],all:t=e.filterSlots(t)};return t.forEach((t=>{e.log.info("Checking",t.getSlotElementId());let n=!0;t.getTargeting("noprebid")?.length&&(n=!1);const o=t.getSizes();o?.length?o.forEach((t=>{(t?.width<3||t?.height<3)&&(n=!1)})):n=!1,n?i.prebid.push(t):i.noprebid.push(t)})),i}refresh(t){const e=this;if(!t)return void e.log.warn("Refresh called without slots");Array.isArray(t)||(t=[t]),e.log.info("Refresh requested for slots",e.listSlotData(t));const i=e.filterPrebidSlots(t);if(i?.all?.length)return i?.prebid?.length&&(e.log.info("ðŸ· Requesting bids for prebid slots",this.listSlotData(i.prebid)),window.apstag.fetchBids({slots:i.prebid,timeout:2e3},(function(t){e.queue((()=>{window.apstag.setDisplayBids(),e.log.info("ðŸ· Refreshing prebid slots after bids received",e.listSlotData(i.prebid),t),e.pubads().refresh(i.prebid)}))}))),i?.noprebid?.length?(e.log.info("Refreshing noprebid slots",e.listSlotData(i.noprebid)),e.pubads().refresh(i.noprebid)):void 0;e.log.info("No slots found for refreshing after filtering.")}wasSlotRequested(t){return!!super.wasSlotRequested(t)||!!t.getTargeting("amznbid")?.length&&(this.log.info("Has amznbid targeting",this.listSlotData(t)),!0)}},a];((t,e)=>{const i="adTagDetection",s=new n.ZP("ADTAG DETECTION 0.1");t._CMLS=t._CMLS||{},t._CMLS[i]={registeredDetectors:d};let a=0;const l=()=>{if(a++,!(t._CMLS.adTag||a>60)){s.info(`Running registered detectors (Loop: ${a})`);for(const e of t._CMLS[i].registeredDetectors){if(!e.identity||!e.detectTag)return s.error("Invalid interface",e),!1;if(s.info("Checking registered detector",e.identity),e.detectTag())return s.info("Interface detected",e.identity),t._CMLS.adTag=new e,void(0,o.Z)(t,"cmls-adtag-loaded",!0)}s.warn("No interface detected, re-running detection in 0.25 seconds"),setTimeout((()=>l()),250)}};(0,r.Z)((()=>{s.info("Initializing."),l()}))})(window.self)},850:(t,e,i)=>{"use strict";i.r(e);var n=i(583),o=i(353),r=i(96),s=i(826);((t,e,i)=>{const a="navThroughPlayer",d=new n.ZP("NAV THROUGH PLAYER 0.1");if(!t)return void d.warn("jQuery not available");e._CMLS=e._CMLS||{},e._CMLS[a]={};const l=i=>{if(!i)return void d.warn("updateAdIframe called without an iframe! This should never happen.");const n=i.getAttribute("src");if(!n||n.includes(e.location.hoostname)&&!n.includes("/safeframe/"))try{const e=(i.jquery?i:t(i)).contents().find('a[target="_self"],a[target="_top"],a[target="_parent"],a[href*="adurl=/"]');e.length?e.each(((t,e)=>f(e))):d.info("No relevant links in iframe")}catch(t){d.info("updateLinks failed",t)}else d.info("iframe is a safeframe, skipping.")},c=()=>{let t=e.location.protocol+"//"+e.location.hostname;return e.location.hostname.includes("franklymedia.com")&&e?._ampconfig?.site_url&&(t=e._ampconfig.site_url.replace(/\/+$/,"")),d.info("Returning hostname URL base",t),t},f=(i,n)=>{if(!i)return void d.info("updateLink called without a link?",i);const o=i.jquery?i:t(i),r=s.Z.el("a",{href:o.prop("href")}),l=new URL(r.href);if(d.info("Processing",i,i.getAttribute("href"),l),l.hostname.includes("doubleclick")&&l.searchParams.has("adurl")&&0===l.searchParams.get("adurl").indexOf("/")){d.info("Found a relative link in a GPT clickthrough! Transforming...",i.getAttribute("href"));let t=c()+"/";i.setAttribute("href",i.getAttribute("href").replace("adurl=/","adurl="+t))}else{if(0!==i.getAttribute("href").indexOf("/")&&l.hostname!==e.location.hostname)return void d.info("Link contains off-site URL, will not modify.",i.href);if(0===i.getAttribute("href").indexOf("/")){d.info("Relative link found, prepending local hostname",i.getAttribute("href"));let t=c()+i.getAttribute("href");i.setAttribute("href",t),i.setAttribute("target","_top")}else l.hostname===e.location.hostname&&(d.info("Local site link found, setting target to _top",i.href),i.setAttribute("target","_top"))}d.info("Setting ad link to navigate through player",i),o.off(`.${a}`).on(`click.${a}`,(t=>{u(t)}))};e._CMLS[a].updateLink=f;const u=t=>{t&&t?.currentTarget?.href&&(0,o.g5)()&&(d.info("Intercepting click."),t.preventDefault(),(0,o.e3)(t.currentTarget.href))},g=()=>{function i(t){if(!t?.slot)return void d.warn("Caught slot render event but it was invalid",t);const i=t.slot,n=i.getSlotElementId();let o=e.document.getElementById(n);o?("iframe"!==o.tagName.toLowerCase()&&(o=o.querySelector('iframe[id*="google_ads_iframe"]')),o?(d.info("Caught render event",n,o,i),l(o)):d.info("Render event on slot without iframe",i,n,o)):d.warn("Caught slot render event but element could not be found")}e._CMLS.adTag.addListener("slotRenderEnded",i),(0,o.Nj)((()=>{e._CMLS.adTag.removeListener("slotRenderEnded",i)}));const n=()=>{t('iframe[id^="google_ads_iframe"],#cmlsWallpaperInjectorContainer iframe, #CMLSPlayerSponsorship iframe').each((function(){d.info("Addressing existing google ad frame",this),l(this)}))};n(),t(e).off(`.${a}`).on(`load.${a}`,(()=>n()))};(0,r.Z)((()=>{e?._CMLS?.adPath?g():e.addEventListener("cmls-adpath-discovered",(()=>g()))}))})(window?.jQuery,window.self)},124:(t,e,i)=>{"use strict";i.r(e);var n=i(583),o=i(252),r=i(826);const s={Newsmax:()=>{if(window.self.NO_NEWSMAX||window.parent.NO_NEWSMAX)return"";if(window.document.querySelector("#hotwire-incontent, .dwcw-widget-container"))return;let t="//static.newsmaxfeednetwork.com/web-clients/bootloaders/jtPvahXLC0BvyCYESN3Fgu/bootloader.js";return window.matchMedia("only screen and (max-width: 760px)").matches&&(t="//static.newsmaxfeednetwork.com/web-clients/bootloaders/Jx44GJqslQrQU3ZULtFwdD/bootloader.js"),r.Z.script(t,{"data-version":"3","data-url":window.document.location.href,"data-zone":"[ZONE]","data-display-within-iframe":"true"})},Hindsight:()=>{const t=new n.ZP("HINDSIGHT 0.1");if(!window.self.NO_HINDSIGHT&&!window.parent.NO_HINDSIGHT)return window?._ampconfig?.settings?.syn_site_name&&["WMAL-FM","KNBR-AF","WBAP-AM","WLAV-FM","KSFO-AM","KXXR-FM","WJBC-AM","WLS-AM1","KABC-AM","KRBE-FM","KTCK-AM","WJR-AM1","WKQX-FM","KGO-AM1","KMJ-AF1","KQRS-FM","KSCS-FM","WBWN-FM","KPLX-FM","WPRO-AM","WBNQ-FM","KSAN-FM","WNTQ-FM","WWTN-FM","WQQK-FM","WWWQ-FM","KLIF-FM","WFMS-FM","WOKI-FM","WGFX-FM"].includes(window?._ampconfig?.settings?.syn_site_name?.toUpperCase())||window?._ampconfig?.settings?.format&&window?._ampconfig?.settings?.format?.toLowerCase()?.includes("news")?r.Z.script("//static.solutionshindsight.net/teju-webclient/teju-webclient.min.js"):void t.info("Site is not allowlisted or a News format, refusing injection.");t.info("NO_HINDSIGHT found, refusing injection.")}};((t,e,i)=>{const a=new n.ZP("PAID CONTENT INJECTOR 0.2");t?t((()=>{if(e.self.NO_PAIDCONTENT)return void a.info("NO_PAIDCONTENT flag found, exiting.");const i=(0,o.Z)();if(!i)return void a.info("Could not discover entry container, exiting.");const n=t(i).parents(".column,.wp-block-column");if(!n.length)return void a.info("Could not discover entry content's parent column, exiting");const d=t(r.Z.el("div",{id:"PAIDCONTENT-"+Math.ceil(6e6*Math.random()),class:"injected-paid-content",style:"position: relative !important; width: 100% !important; top:0; overflow:hidden"}));n.append(d);for(const t in s){let e=!1;"function"==typeof s[t]?(d.append(s[t]()),e=!0):"string"==typeof s[t]&&(d.append(s[t]),e=!0),e&&a.info("Injected paid content",t)}})):a.warn("jQuery not available")})(window?.jQuery,window.self)},798:(t,e,i)=>{"use strict";i.r(e);var n=i(583),o=i(353),r=i(96);(t=>{const e="playerSponsor",i="CMLSPlayerSponsorship";let s=null;const a=new n.ZP("PLAYER-SPONSOR 0.2");(0,o.zd)()?a.info("Inside iframe, will assume parent has taken care of this."):(t._CMLS=t._CMLS||{},t._CMLS[e]={inject:()=>{(0,o.wO)().then((()=>{if(t.top.document.getElementById(i))return void a.info("Sponsor ad is already injected.");if(t.matchMedia("(max-width: 800px)").matches)return void a.info("Device width is too narrow, exiting.");const e=t.document.querySelector('iframe[name="pwm_bar"]');if(!e)return void a.info("Could not determine player frame.");const n=e.parentNode;if(!n)return void a.info("Injection point could not be found.");const o=t.document.createElement("style");o.id=`${i}Style`,o.innerHTML=`\n\t\t\t\t\t\t#${i} {\n\t\t\t\t\t\t\tposition: fixed;\n\t\t\t\t\t\t\tz-index: 200000;\n\t\t\t\t\t\t\twidth: 120px;\n\t\t\t\t\t\t\theight: 60px;\n\t\t\t\t\t\t\tbottom: 4px;\n\t\t\t\t\t\t\tleft: 50%;\n\t\t\t\t\t\t\ttransform: translateX(+275px);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\t@media (max-width: 1120px) {\n\t\t\t\t\t\t\t\t#${i} {\n\t\t\t\t\t\t\t\t\tleft: auto;\n\t\t\t\t\t\t\t\t\tright: 160px;\n\t\t\t\t\t\t\t\t\ttransform: none;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t`,n.appendChild(o);const r=t.top.document.createElement("div");r.id=i,n.appendChild(r),t._CMLS.adTag.queue((()=>{a.info("Defining slot",i),t._CMLS.adTag.defineSlot({adUnitPath:t._CMLS.adPath,size:[[120,60]],div:i,collapse:!0,targeting:{pos:"playersponsorlogo",noprebid:"noprebid"},prebid:!1}),t._CMLS.adTag.display(i,t._CMLS.adTag.isInitialLoadDisabled()),s=setTimeout((()=>{const e=t.document.querySelector("#"+t.top?.tgmp?.divId);if(e){const n=t.document.querySelector(`#${i}`);let o=t.getComputedStyle(e).zIndex+1;o>2147483647&&(o=2147483647),n.style.zIndex=o}}),2e3)}))}))},init:()=>{(0,r.Z)((()=>{t?._CMLS?.adPath?t._CMLS[e].inject():t.addEventListener("cmls-adpath-discovered",(()=>t._CMLS[e].inject()))}))}},t._CMLS[e].init())})(window.self)},181:(t,e,i)=>{"use strict";i.r(e);var n=i(583),o=i(826),r=i(96);i(279),((t,e,i)=>{const s="gpt-pushdown",a=".wrapper-content, body > .wp-site-blocks > header + *",d=new n.ZP("PUSHDOWN AD 0.1");if(!t)return void d.warn("jQuery not available");const l=e.document;let c=null,f=null;(0,r.Z)((()=>{if(!l.querySelector("body.home"))return void d.info("Not on homepage.");if(l.querySelector(`#${s}`))return void d.info("Tag already exists, exiting.");const n={image:t=>{d.info("Handling Image creative");const e=t.contents().find(".img_ad");if(!e.length)return d.warn("Attempted to handle image creative which could not be found."),!1;e.css({width:"100%",height:"auto",objectFit:"cover"});let i=15e3;const n=e.prop("alt").match(/timeout=(\d+)/i);n?.length&&(i=1e3*n[1]),c.trigger("cmls.display",[i])},video:t=>{d.info("Handling basic video creative.");const e=t.contents().find("video"),i=e.find("source");return e.length?e[0].canPlayType?(i.each(((t,i)=>{const n=i.getAttribute("type");return!n||!e[0].canPlayType(n).replace(/no/,"")||(validVideo=!0,!1)})),d.warn("No video source was found to be compatible with this browser."),!1):(d.warn("Current browser does not support this video type."),!1):(d.warn("Attempted to handle video creative which could not be found."),!1)}};function r(t){if(t.slot.getSlotElementId()!==s)return;if(d.info("Caught relevant GPT render event"),e._CMLS.adTag.removeListener("slotRenderEnded",r),t.isEmpty)return d.info("Slot was empty"),c.trigger("cmls.hide"),!1;const i=c.find("iframe:first");if(!i.length)return d.warn("Attempted to handle valid ad render, but no iframe was found."),!1;const o=function(t){if(!t.length)return d.warn("Could not find DFP iframe within ad container."),!1;try{t.contents()}catch(t){return d.warn("Could not retrieve ad container contents, is this a safe frame?"),!1}return t.contents().find("#vpContainer").length?"vast":t.contents().find(".img_ad").length?"image":!!t.contents().find("video").length&&"video"}(i);if(!o||!n.hasOwnProperty(o))return d.warn("GPT returned unsupported creative."),!1;n[o](i)}function u(){l.querySelector(a)?(function(){const e=`\n\t\t\t\t#${s}-container {\n\t\t\t\t\tfont-size: 24px !important;\n\t\t\t\t\tfont-size: 5vw !important;\n\t\t\t\t\tfont-weight: 100 !important;\n\t\t\t\t\tline-height: 0 !important;\n\t\t\t\t\tmargin: 0 auto !important;\n\t\t\t\t\tmax-width: 1020px !important;\n\t\t\t\t\toverflow: hidden !important;\n\t\t\t\t\tposition: relative !important;\n\t\t\t\t\tz-index: 1 !important;\n\t\t\t\t}\n\t\t\t\t#${s} {\n\t\t\t\t\tposition: relative;\n\t\t\t\t\tmargin: 10px auto;\n\t\t\t\t}\n\t\t\t\t#${s} div[id*="google_ads"] {\n\t\t\t\t\tposition: relative;\n\t\t\t\t\tpadding-bottom: 56.25%;\n\t\t\t\t\tmax-width: 100%;\n\t\t\t\t\theight: 0;\n\t\t\t\t\toverflow: hidden;\n\t\t\t\t}\n\t\t\t\t#${s} iframe {\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\theight: 100%;\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\ttop: 0;\n\t\t\t\t\tleft: 0;\n\t\t\t\t}\n\t\t\t\t#${s}-close {\n\t\t\t\t\tcolor: white !important;\n\t\t\t\t\tfont-family: sans !important;\n\t\t\t\t\ttext-shadow: .05em .05em .25em black;\n\t\t\t\t\tmix-blend-mode: exclusion;\n\t\t\t\t\tcursor: pointer;\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\ttop: .75em;\n\t\t\t\t\tright: .3em;\n\t\t\t\t\tz-index: 100000;\n\t\t\t\t}\n\t\t\t\t#${s}-timer {\n\t\t\t\t\tbackground: #a33;\n\t\t\t\t\twidth: 0;\n\t\t\t\t\theight: 3px;\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\tbottom: 7px;\n\t\t\t\t\tleft: 0;\n\t\t\t\t\tz-index: 100000;\n\t\t\t\t}\n\t\t\t\t@media (min-width: 550px) {\n\t\t\t\t\t#${s}-container {\n\t\t\t\t\t\tfont-size: 24px !important;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t`;if(!l.querySelector(`#${s}-styles`)){const t=o.Z.el("style",{id:`${s}-styles`});t.innerHTML=e,l.body.appendChild(t)}const n=o.Z.el("div",{id:`${s}-container`,style:"display: none","aria-hidden":"true"});c=t(n);const r=o.Z.el("div",{id:s}),u=o.Z.el("div",{id:`${s}-close`,title:"Close","aria-controls":`${s}-container`});u.innerText="âœ•";const g=o.Z.el("div",{id:`${s}-timer`});f=t(g),c.append([r,u,g]),u.addEventListener("click",(()=>c.trigger("cmls.hide"))),c.on("cmls.display",(function(t){let e=arguments.length>1&&arguments[1]!==i?arguments[1]:null,n=arguments.length>2&&arguments[2]!==i?arguments[2]:null;d.info("Displaying ad."),e||(e=15e3),"function"!=typeof n&&f.trigger("cmls.start",[e,()=>{c.trigger("cmls.hide")}]),c.stop().clearQueue().slideDown("fast",n),c.prop("aria-hidden",!1)})),c.on("cmls.hide",((t,e)=>{d.info("Hiding ad."),f.trigger("cmls.reset"),c.stop().clearQueue().slideUp(),"function"==typeof e&&e(),c.prop("aria-hidden",!0)})),f.on("cmls.start",((t,e,i)=>{d.info("Timer begins",e),f.trigger("cmls.reset",(()=>{f.animate({width:"100%"},e,"linear",i)}))})),f.on("cmls.reset",((t,e)=>{d.info("Resetting timer to 0"),f.stop().clearQueue().css("width",0),"function"==typeof e&&e()})),t(a).first().prepend(c)}(),e._CMLS.adTag.addListener("slotRenderEnded",r),e._CMLS.adTag.queue((()=>{d.info("Defining slot",s),e._CMLS.adTag.defineSlot({adUnitPath:e._CMLS.adPath+"/pushdown",size:[[1020,574]],div:s,collapse:!0,targeting:{pos:"pushdown",noprebid:"noprebid"},prebid:!1}),e._CMLS.adTag.display(s,e._CMLS.adTag.isInitialLoadDisabled())})),d.info("Initialized.")):d.warn("Could not find injection spot, exiting.")}e?._CMLS?.adPath?u():e.addEventListener("cmls-adpath-discovered",(()=>u()))}))})(window?.jQuery,window.self)},710:(t,e,i)=>{"use strict";i.r(e);var n=i(583),o=i(217);const r="6717",s=new n.ZP("REGISTER-AD-PATH 0.1");function a(){s.info("Checking for ad path");const t=window?._CMLS?.adTag.rawInterface().pubads(),e=t?.getSlots();s.info(`Testing ${e.length} slots`),e.length?e.some((t=>{const e=t?.getAdUnitPath();if(e&&e.indexOf(`/${r}/`)>-1)return s.info("Found in-network slot",t.getSlotElementId(),e),window._CMLS=window._CMLS||{},window._CMLS.adPath=e,s.info("Ad path discovered",window._CMLS.adPath),(0,o.Z)(window,"cmls-adpath-discovered",window._CMLS.adPath),!0})):s.warn("Found no slots!")}window?._CMLS?.adTag?.rawInterface().pubadsReady?a():window.addEventListener("cmls-adtag-loaded",(()=>a()))},330:(t,e,i)=>{"use strict";i.r(e);var n=i(583),o=i(826),r=i(96);((t,e)=>{const i=".wrapper-content, body > .wp-site-blocks > header + *",s="1080px",a=t.document,d=new n.ZP("SIDEWALL ADS 0.2");(0,r.Z)((()=>{if(t.NO_SIDEWALLS)return void d.info("NO_SIDEWALLS configured, exiting.");const e=()=>!t?.freestar?.queue||(d.info("Freestar enabled."),!0===t?.freestar?.config?.disabledProducts?.sideWall||t?.freestar?.config?.products?.sideWall?.disabled?(d.info("Freestar sideWall product is disabled."),!0):(d.info("Freestar sideWall product is not explicitly disabled.",t?.freestar?.config?.disabledProducts,t?.freestar?.config?.products?.sideWall),!1));function n(){if(!e())return void d.info("Exiting.");if(a.querySelector(".wallpaperInjectorContainer"))return void d.info("Wallpaper is visible, exiting");const n=a.querySelector(i),r=t.getComputedStyle(n);let l=r?.paddingTop;l&&parseInt(l)||(l="10px"),r?.position&&"static"!==r.position.toLowerCase()||(n.style.position="relative");const c=`\n\t\t\t\t<div id="cmls-sidewall-left" class="cmls-sidewall"></div>\n\t\t\t\t<div id="cmls-sidewall-right" class="cmls-sidewall"></div>\n\t\t\t\t<style>\n\t\t\t\t\t.wrapper-header .takeover-right, .wrapper-header .takeover-left,\n\t\t\t\t\t.wrapper-header .skyscraper-right, .wrapper-header .skyscraper-left { display: none !important; }\n\t\t\t\t\t.cmls-sidewalls { position: absolute; left: 50%; top: 0; width: ${s}; height: 100%; transform: translateX(-50%); display: flex; justify-content: space-between; box-sizing: border-box; padding: ${l} 10px; }\n\t\t\t\t\t.cmls-sidewall { position: sticky; top: ${l}; width: fit-content; height: fit-content; }\n\t\t\t\t\t#cmls-sidewall-left { transform: translateX(-100%); }\n\t\t\t\t\t#cmls-sidewall-right { margin-left: auto; transform: translateX(100%); }\n\t\t\t\t</style>\n\t\t\t`,f=o.Z.el("div",{class:"cmls-sidewalls"});f.innerHTML=c,n.prepend(f),t._CMLS.adTag.queue((()=>{d.info("Defining sidewalls");var e=t._CMLS.adTag.rawInterface();if(!e.sizeMapping)return;var i=e.sizeMapping().addSize([parseInt(s)+550,0],[[160,600],[300,600]]).addSize([0,0],[]).build();const n=t._CMLS.adTag.defineSlot({adUnitPath:t._CMLS.adPath+"/sidewallLeft",size:[[160,600],[300,600]],div:"cmls-sidewall-left",collapse:!0,targeting:{pos:"left"},prebid:!0}).defineSizeMapping(i);t._CMLS.adTag.display("cmls-sidewall-left",!1);const o=t._CMLS.adTag.defineSlot({adUnitPath:t._CMLS.adPath+"/sidewallRight",size:[[160,600],[300,600]],div:"cmls-sidewall-right",collapse:!0,targeting:{pos:"right"},prebid:!0}).defineSizeMapping(i);t._CMLS.adTag.display("cmls-sidewall-right",!1),t._CMLS.adTag.doInitialLoad([n,o])}))}e()?a.querySelector('.takeover-left div[id^="div-gpt"],.takeover-right div[id^="div-gpt"],.skyscraper-left div[id^="div-gpt"],.skyscraper-right div[id^="div-gpt"]')?d.info("Legacy skyscrapers exist, exiting."):a.querySelector(".cmls-sidewalls")?d.info("Tags already exists, exiting."):a.querySelector(i)?t.matchMedia(`(max-width: ${parseInt(s)+550}px)`).matches?d.info("Device width is too narrow, exiting."):t?._CMLS?.adPath?n():t.addEventListener("cmls-adpath-discovered",(()=>n())):d.info("Injection point not found, exiting."):d.info("Exiting.")}))})(window.self)},417:(t,e,i)=>{"use strict";i.r(e);var n=i(583),o=i(353);((t,e)=>{const i="tgPlayerEventTargeting",r=new n.ZP("TG PLAYER EVENT TARGETING 0.2");t._CMLS=t._CMLS||{},t._CMLS[i]={},t._CMLS[i].init=function(){if(!t.self?.__PWM__?.events?.mediaSession?.setTrack)return void r.info("__PWM__ event tracking not available, cannot track events.");t._CMLS[i].active&&r.info("Already enabled."),t._CMLS[i].active=!0;const e=t.self.__PWM__,n={artist:null,title:null};e.events.mediaSession.setTrack.push((function(e){if(t._CMLS.adTag){if(e?.title&&e.title!==n.title){n.title=e.title,r.info("Setting webplayer-title",e.title);let i=e.title.replace(/["'=!+#*~;^()<>\[\],&]/g,"-");if(t._CMLS.adTag.setTargeting("webplayer-title",i),e?.artist&&e.artist!==n.artist){n.artist=e.artist;let i=e.artist.replace(/["'=!+#*~;^()<>\[\],&]/g,"-");r.info("Setting webplayer-artist",e.artist),t._CMLS.adTag.setTargeting("webplayer-artist",i)}}}else r.info("Adtag interface not available when setTrack fired.",e)}))},(0,o.wO)().then((()=>{t?._CMLS?.adPath?t._CMLS[i].init():t.addEventListener("cmls-adpath-discovered",(()=>t._CMLS[i].init()))}))})(window.self)},151:(t,e,i)=>{"use strict";i.r(e);var n=i(583),o=i(826),r=i(96),s=i(493),a=i.n(s),d=i(279),l=i.n(d);(t=>{const e="wallpaperInjector",i=new n.ZP("WALLPAPER INJECTOR 0.1"),s=t.document;t._CMLS=t._CMLS||{};class d{defaults={dfpSlotNode:"#div-gpt-ad-1418849849333-16,#cmls-gpt-wallpaper",injectionNode:".wrapper-content",stickNode:".wrapper-header",contentNode:".wrapper-content > .grid-container",footerNode:".wrapper-footer",obstructiveNode:".takeover-left, .takeover-right, .skyscraper-left, .skyscraper-right, .fs-sidewall-container, .cmls-sidwalls"};settings={preDisplayCallback:this.clearObstructions,postDisplayCallback:this.clearObstructions};cache={};constructor(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.assign(this.settings,this.defaults,n);const r=`\n\t\t\t\t.${e}-container {\n\t\t\t\t\tdisplay: block !important;\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\ttop: 0;\n\t\t\t\t\tleft: 50%;\n\t\t\t\t\tz-index: 0;\n\t\t\t\t\twidth: 100vw !important;\n\t\t\t\t\theight: 0 !important;\n\t\t\t\t\toverflow: hidden !important;\n\t\t\t\t\ttext-align: center;\n\t\t\t\t\ttransition: opacity 0.5s; height 0.6s, background-color 0.4s;\n\t\t\t\t\topacity: 0;\n\t\t\t\t\ttransform: translateX(-50%);\n\t\t\t\t}\n\t\t\t\t.${e}-container iframe {\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\theight: 100%;\n\t\t\t\t\tborder: 0;\n\t\t\t\t}\n\t\t\t\t.${e}-container ~ .grid-container {\n\t\t\t\t\ttransition: box-shadow 0.6s;\n\t\t\t\t}\n\t\t\t\t.${e}-open {\n\t\t\t\t\theight: 100% !important;\n\t\t\t\t\topacity: 1;\n\t\t\t\t}\n\t\t\t\t.${e}-open ~ .grid-container {\n\t\t\t\t\tbox-shadow: 0 0 20px rgba(0,0,0,0.3);\n\t\t\t\t}\n\t\t\t\t.${e}-fixed {\n\t\t\t\t\tposition: fixed;\n\t\t\t\t}\n\t\t\t\t${this.settings.dfpSlotNode} {\n\t\t\t\t\tdisplay: none !important;\n\t\t\t\t}\n\t\t\t`;if(!s.getElementById(`${e}Styles`)){const t=o.Z.el("style");t.innerHTML=r,s.body.append(t)}if(this.refreshCache(),!this.cache.dfpSlot||!this.cache.injectionNode||!this.cache.contentNode)return void i.info("Could not locate important DOM nodes, exiting.");const a=this;t._CMLS.adTag.addListener("slotRenderEnded",(t=>{if(t?.slot?.getTargeting("pos")?.includes("wallpaper-ad"))return i.info("Caught render event for wallpaper-ad"),void(t.isEmpty?(i.info("Slot was empty, resetting."),a.reset()):(i.info("Slot contained creative!"),a.process()))})),a.process()}refreshCache(){Object.assign(this.cache,{dfpSlot:s.querySelector(this.settings.dfpSlotNode),injectionNode:s.querySelector(this.settings.injectionNode),stickNode:s.querySelector(this.settings.stickNode),contentNode:s.querySelector(this.settings.contentNode),footerNode:s.querySelector(this.settings.footerNode),obstructiveNodes:s.querySelectorAll(this.settings.obstructiveNode)})}checkSum(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=3735928559^e,n=1103547991^e;for(let e,o=0;o<t.length;o++)e=t.charCodeAt(o),i=Math.imul(i^e,2654435761),n=Math.imul(n^e,1597334677);return i=Math.imul(i^i>>>16,2246822507)^Math.imul(n^n>>>13,3266489909),n=Math.imul(n^n>>>16,2246822507)^Math.imul(i^i>>>13,3266489909),4294967296*(2097151&n)+(i>>>0)}hasPassedStickPosition(){const e=t.scrollY;return(this.cache.injectionNode?this.cache.injectionNode.getBoundingClientRect().top+t.scrollY:0)<e+this.cache.stickAt}isFixed(){return!!this.getContainer().classList.contains(`${e}-fixed`)}refreshStickAtPosition(){return i.info("Refreshing stick position."),this.cache.stickAt=this.cache.stickNode?this.cache.stickNode.getBoundingClientRect().top+t.scrollY:0,this.cache.stickAt}toggleFixed(t){const n=this.getContainer();this.isFixed()&&!1===t&&(i.info("Removing fixed position."),n.classList.remove(`${e}-fixed`),n.style.setProperty("top",0)),this.isFixed()||!0!==t||(i.info("Setting position fixed."),n.classList.add(`${e}-fixed`),n.style.setProperty("top",this.cache.stickAt))}trackScroll(){const e=this;e.refreshStickAtPosition(),e.hasPassedStickPosition()?e.toggleFixed(!0):e.toggleFixed(!1),e.untrackScroll(),e.cache.scrollListener=a()((()=>{e.hasPassedStickPosition()?e.toggleFixed(!0):e.toggleFixed(!1)}),50),e.cache.resizeListener=l()((()=>{e.refreshStickAtPosition()}),1e3),t.addEventListener("scroll",e.cache.scrollListener),t.addEventListener("resize",e.cache.resizeListener),i.info("Scroll tracking enabled.")}untrackScroll(){this.cache.scrollListener&&t.removeEventListener("scroll",this.cache.scrollListener),this.cache.resizeListener&&t.removeEventListener("resize",this.cache.resizeListener)}getContainer(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.cache?.container;const n=s.querySelector(`#${e}Container`);if(n)return this.cache.container=n,this.cache.container;if(t)return!1;if(i.info("Generating new wallpaper container."),this.refreshCache(),!this.cache.injectionNode)return void i.warn("Could not find injection node!",this.cache);const r=o.Z.el("div",{id:`${e}Container`,class:`${e}-container`});return this.cache.injectionNode.prepend(r),this.cache.container=r,this.raiseContentArea(),this.cache.container}getOriginalStyles(){if(!this.cache?.originalStyles){const e={injection:t.getComputedStyle(this.cache.injectionNode),content:t.getComputedStyle(this.cache.contentNode),footer:t.getComputedStyle(this.cache.footerNode)};this.cache.originalStyles=e}return this.cache.originalStyles}raiseContentArea(){const e=this.getContainer(),n=t.getComputedStyle(e),o=this.getOriginalStyles();i.info("Checking positioning",o),["relative","static"].includes(o?.injection?.position)&&(i.info("Setting injection position to relative."),this.cache.injectionNode.style.setProperty("position","relative")),["reltive","static"].includes(o?.content?.position)&&(i.info("Setting content node position to relative."),this.cache.contentNode.style.setProperty("position","relative")),("auto"===o?.content?.zIndex||Number.isInteger(o?.content?.zIndex)&&o?.content?.zIndex<=n.zIndex)&&(i.info("Raising content area above wallpeper container."),this.cache.contentNode.style.setProperty("z-index",n.zIndex+1)),["relative","static"].includes(o?.footer?.position)&&(i.info("Setting footer area position to relative."),this.cache.footerNode.style.setProperty("position","relative"),this.cache.footerNode.style.setProperty("z-index",n.zIndex+2))}show(){i.info("Displaying wallpaper."),this.getContainer().classList.add(`${e}-open`),this.trackScroll(),t.freestar=t.freestar||{},t.freestar.config=t.freestar.config||{},t.freestar.config.disabledProducts=freestar.config.disabledProducts||{},t.freestar.config.disabledProducts.sideWall=!0,t.NO_SIDEWALLS=!0,this.settings.postDisplayCallback()}clearObstructions(){if(this.cache?.obstructiveNodes?.length){if(i.info("Dealing with obstructions",this.cache.obstructiveNodes),t._CMLS?.adTag){const e=["sidewall_left","sidewall_right"];if(Array.prototype.forEach.call(me.cache.obstructiveNodes,(t=>{const i=t.querySelector('[id^="div-gpt-ad"]');i?.id&&e.push(i.id)})),i.info("Bad slot IDs",e),e?.length){const n=[];t._CMLS.adTag.pubads().getSlots().forEach((t=>{e.includes(t.getSlotElementId())&&n.push(t)})),i.info("Slots to kill",e,n),n?.length&&t._CMLS.adTag.rawInterface().destroySlots(n)}}else i.warn("Could not find adTag interface!");Array.prototype.forEach.call(this.cache.obstructiveNodes,(t=>t.remove()))}}reset(){const n=this.getContainer();i.info("Resetting."),n&&(i.info("Container exists, resetting it."),n.style.setProperty("background-color","rgba(0,0,0,0)"),n.classList.remove(`${e}-open`),n.classList.remove(`${e}-fixed`));const o=this;return new Promise((function(e,r){n&&(i.info("Removing container"),n.remove()),t.freestar=t.freestar||{},t.freestar.config=t.freestar.config||{},t.freestar.config.disabledProducts=freestar.config.disabledProducts||{},t.freestar.config.disabledProducts.sideWall=!1,o.cache.container=null,o.untrackScroll(),e()}))}process(){const n=this;(0,r.Z)((()=>{if(n.refreshCache(),!n.cache.contentNode)return i.warn("Content node not found, cannot build wallpaper."),void n.reset();i.info("Checking wallpaper request.");const r=n.cache.dfpSlot.querySelector("iframe");if(!r||!r.contentWindow)return i.warn("No iframe in slot container, exiting.",r),void n.reset();const s=r.contentWindow.document.querySelector("#google_image_div,body");if(!s)return i.warn("Could not select slot inner div."),void n.reset();const a=s.querySelector("a"),d=s.querySelector(".img_ad,img"),l=d?.getAttribute("alt");if(!d)return i.warn("No image found in ad slot."),void n.reset();n.reset().then((()=>{n.settings.preDisplayCallback();const r=n.getContainer(),s=n.checkSum((a.length?a.getAttribute("href")+a.getAttribute("target"):"")+d.getAttribute("src"));if(i.info("Generated request hash.",s),s===r.dataset.hash)return void i.info("Request is already handled.");r.dataset.hash=s;let c="rgba(0,0,0,1)";if(r.style.setProperty("background-color",c),l&&/\#[a-z0-9]+/i.test(l)){const t=l.match(/(\#[a-z0-9])/i);t?.length>1&&(c=t[1]),r.style.setProperty("background-color",c)}else i.info("No background color in request, will attempt to discover one from image."),n.getBackgroundColorFromImage(d).then((t=>{const e=n.getContainer();i.info("Got updated background color",t,e),e.style.setProperty("background-color",t)}));i.info("Building new wallpaper.",a);let f=o.Z.el("span");a?.href&&(f=o.Z.el("a",{href:a.getAttribute("href"),target:a.getAttribute("target")})),f.href&&t._CMLS?.navThroughPlayer&&t._CMLS.navThroughPlayer.updateLink(f);const u=o.Z.el("iframe",{name:`${e}Iframe`,scrolling:"no",marginWidth:0,marginHeight:0,frameborder:0});i.info("Injecting iframe into container"),r.append(u);const g=`\n\t\t\t\t\t\t\thtml,body {\n\t\t\t\t\t\t\t\tbackground: transparent;\n\t\t\t\t\t\t\t\tmargin: 0;\n\t\t\t\t\t\t\t\tpadding: 0;\n\t\t\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\t\t\theight: 100%;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbody {\n\t\t\t\t\t\t\t\tbackground: url('${d.getAttribute("src")}') no-repeat top center;\n\t\t\t\t\t\t\t\t${d.getAttribute("alt")?.includes("contain")?"background-size: 100%":""}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\ta {\n\t\t\t\t\t\t\t\tdisplay: block;\n\t\t\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\t\t\theight: 100%;\n\t\t\t\t\t\t\t\ttext-decoration: none;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t`,h=o.Z.el("style");h.innerHTML=g,u.addEventListener("load",(()=>{i.info("Injecting wallpaper into iframe."),u.contentWindow.document.body.append(h),u.contentWindow.document.body.append(f)})),u.setAttribute("src","about:blank"),n.show()}))}))}getBackgroundColorFromImage(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(t&&t.getAttribute("src"))return new Promise((function(e,n){const r=new XMLHttpRequest;r.onload=()=>{const t=new FileReader;t.onloadend=()=>{const r=t.result;if(r){i.info("Got data URI for image.",r);const t=new Image;t.onload=()=>{const r=o.Z.el("canvas"),s=r.getContext("2d"),a=t.naturalWidth||t.offsetWidth||t.width,d=t.naturalHeight||t.offsetHeight||t.height,l={x:a/2,y:d/2};r.width=a,r.height=d,s.drawImage(t,0,0),i.info("Getting color data from image center point.",l);const c=s.getImageData(l.x,l.y,1,1);if(c?.data){i.info("Got new color data!",c.data);let t=`rgba(${[c.data[0],c.data[1],c.data[2]].join(",")}, 1)`;return e(t)}return i.warn("Could not get color data from image."),n(null)},t.src=r}},t.readAsDataURL(r.response)},r.open("GET",t.getAttribute("src")),r.responseType="blob",r.send()}))}}(0,r.Z)((()=>{s.body.classList.contains("is-fse-theme")?i.info("Is FSE site, will not handle wallpapers."):t.matchMedia("(max-width: 1100px)").matches?i.info("Viewport is too narrow for wallpapers."):t?._CMLS?.adPath?t._CMLS[e]=new d:t.addEventListener("cmls-adpath-discovered",(()=>{t._CMLS[e]=new d}))}))})(window.self)},150:(t,e,i)=>{"use strict";i.r(e);var n=i(583),o=i(826),r=i(96);(t=>{const e="gpt-w7mtag",i=new n.ZP("WEST7-1X1 0.1"),s=t.document,a=()=>{if(s.getElementById(e))return;const n=o.Z.el("div",{id:e,style:"line-height:0;font-size:0;height:0"});s.body.appendChild(n),i.info("Slot injected"),t._CMLS.adTag.queue((()=>{t._CMLS.adTag.defineSlot({adUnitPath:t._CMLS.adPath,size:[[1,1]],div:e,collapse:!0,targeting:{pos:"w7m",noprebid:"noprebid"},prebid:!1}),t._CMLS.adTag.display(e,t._CMLS.adTag.isInitialLoadDisabled()),i.info("Slot initialized")}))};(0,r.Z)((()=>{t?._CMLS?.adPath?a():t.addEventListener("cmls-adpath-discovered",(()=>a()))}))})(window.self)},583:(t,e,i)=>{"use strict";i.d(e,{ZP:()=>r});const n={},o=(t,e,i)=>{t/=255,e/=255,i/=255;const n=Math.max(t,e,i),o=n-Math.min(t,e,i),r=0===o?0:o&&n===t?(e-i)/o:n===e?2+(i-t)/o:4+(t-e)/o;return[60*(r<0?r+6:r),n&&o/n*100,100*n]};class r{background=null;foreground=null;#t=null;constructor(t){n[t]?(this.background=n[t]?.background,this.foreground=n[t]?.foreground):(this.background=(()=>{let t,e=!1;for(;!e;){t=Math.floor(16777215*Math.random());const i=o.apply(void 0,[t>>16&255,t>>8&255,255&t]);i[0]>25&&i[0]<330&&(e=!0)}return("000000"+t.toString(16)).slice(-6)})(),this.foreground=(t=>{const e=parseInt(t,16);return(e>>16&255)/255*.2126+(e>>8&255)/255*.7152+(e>>0&255)/255*.0722>.6?"000000":"FFFFFF"})(this.background),n[t]={background:this.background,foreground:this.foreground}),this.header=[`%c ${t} `,`background: #${this.background}; color: #${this.foreground}`]}timestamp(){return(new Date)?.toISOString()||(new Date).toUTCString()}resolveMessage(t){let e=t,i=160;return Array.isArray(t)&&t.length>0&&t[0]?.message&&t[0]?.headerLength&&(e=t[0].message,i=t[0].headerLength),{message:e,headerLength:i}}smallString(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:160;return t?(t instanceof Element?t.innerHTML:t.toString()).substring(0,e):t}displayHeader(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:160,n=[...this.header,{debug:"ðŸž",info:"â„¹ï¸",warn:"ðŸš¸",error:"ðŸš¨"}?.[t]];e&&(Array.isArray(e)?n.push(this.smallString(e.map((t=>"string"!=typeof t?JSON.stringify(t):t)).join(" || "),i)):n.push(this.smallString(e,i))),window.top.console.groupCollapsed.apply(window.top.console,n)}displayFooter(){window.top.console.debug("TIMESTAMP:",this.timestamp()),window.top.console.trace(),window.top.console.groupEnd()}logMessage(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:160;if("object"!=typeof console||!console.groupCollapsed)return!1;let n=!1;try{(/(1|true|yes)/i.test(window.sessionStorage.getItem("cmlsDebug"))||/cmlsDebug/i.test(window.document.cookie))&&(n=!0)}catch(t){}(window?._CMLS?.debug||n)&&(this.displayHeader(t,e,i),i!==1/0&&window.top.console.debug(e),this.displayFooter())}info(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];let{message:n,headerLength:o}=this.resolveMessage(e);this.logMessage("info",n,o)}debug(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];let{message:n,headerLength:o}=this.resolveMessage(e);this.logMessage("debug",n,o)}warn(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];let{message:n,headerLength:o}=this.resolveMessage(e);this.logMessage("warn",n,o)}error(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];let{message:n,headerLength:o}=this.resolveMessage(e);this.logMessage("error",n,o)}}},826:(t,e,i)=>{"use strict";i.d(e,{Z:()=>r});const n=window.self.document,o={el:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=n.createElement(t);if(null!==e&&("function"==typeof e||"object"==typeof e))for(const t in e)i.setAttribute(t,e[t]);return i},script:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=Object.assign(e,{type:"text/javascript",async:!0,src:t}),o.el("script",e)},iframe:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";var i=o.el("iframe",t);return i.onload=()=>{i.onload=!1;const t=i.contentWindow.document;t.open(),t.write(e),t.close()},i}},r=o},96:(t,e,i)=>{"use strict";i.d(e,{Z:()=>n});const n=t=>{"loading"!==window.self.document.readyState?t():window.self.document.addEventListener("DOMContentLoaded",t)}},252:(t,e,i)=>{"use strict";i.d(e,{Z:()=>o});var n=i(583);const o=function(){const t=new n.ZP("GET BASIC POST 0.1"),e=window.self.document;if(!["post-template-default","feed_posts-template-single","feed_posts-template-default"].some((t=>e.body.classList.contains(t))))return t.info("Not the default post template.",e.body.classList),!1;const i=[...e.body.classList].find((t=>t.includes("postid-")))?.replace("postid-","");if(!i)return t.info("Could not discover post ID"),!1;const o=e.querySelector(`.wp-block-post-content,.wrapper-content .column-1 #post-${i}`);if(!o)return t.info("Could not discover post content."),!1;const r=o.getBoundingClientRect();return r.width>800||r.width<300?(t.info("Post content width is suspicious.",r.width),!1):o}},353:(t,e,i)=>{"use strict";i.d(e,{Nj:()=>p,e3:()=>d,g5:()=>a,wO:()=>l,zd:()=>c});var n=i(217),o=i(96);let r=null,s=0;const a=()=>{if(window.top.tgmp)return r="tunegenie",window.self.document.body.classList.contains("cmls-player-tunegenie")||window.self.document.body.classList.add("cmls-player-tunegenie"),r},d=t=>{a()&&window.tgmp.updateLocation(t)},l=()=>new Promise((function t(e,i){if(a())(0,n.Z)(window,"cmls-player-detected",r),e(a());else{if(s>20)return;s++,setTimeout(t.bind(this,e,i),500)}})),c=()=>window.self!==window.top||"pwm_pageFrame"===window.self.name,f=[];let u=!1,g=!1;const h=new MutationObserver(((t,e)=>{for(const e of t)if("childList"===e.type&&window.top.document.querySelector('iframe[name="pwm_pageFrame"]')){g=!0;for(const t of f)"function"==typeof t&&t();h.disconnect()}}));(0,o.Z)((()=>{u=!!window.top.document.querySelector('iframe[name="pwm_pageFrame"]'),h.observe(window.top.document.body,{childList:!0})}));const p=t=>{"function"==typeof t&&f.push(t)}},301:(t,e,i)=>{"use strict";i.d(e,{WL:()=>s,pn:()=>r});const n={hidden:"hidden",event:"visibilitychange"};void 0!==window.document.mozHidden?Object.assign(n,{hidden:"mozHidden",event:"mozvisibilitychange"}):void 0!==window.document.msHidden?Object.assign(n,{hidden:"msHidden",event:"msvisibilitychange"}):void 0!==window.document.webkitHidden?Object.assign(n,{hidden:"webkitHidden",event:"webkitvisibilitychange"}):void 0!==window.document.oHidden&&Object.assign(n,{hidden:"oHidden",event:"ovisibilitychange"});let o=!1;function r(){let t=!0;return t=window.document.visibilityState?!("hidden"===window.document.visibilityState):!window.document[n.hidden],!t&&o?-1:t}function s(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return window.document.addEventListener(n.event,t,e)}window.addEventListener("beforeunload",(()=>{o=!0}))},217:(t,e,i)=>{"use strict";function n(t,e,i){let n;window.document.createEvent?(n=window.document.createEvent("CustomEvent"),n.initCustomEvent(e,!0,!0,i)):n=new CustomEvent(e,{detail:i}),t.dispatchEvent(n)}i.d(e,{Z:()=>n})},705:(t,e,i)=>{var n=i(639).Symbol;t.exports=n},239:(t,e,i)=>{var n=i(705),o=i(607),r=i(333),s=n?n.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":s&&s in Object(t)?o(t):r(t)}},561:(t,e,i)=>{var n=i(990),o=/^\s+/;t.exports=function(t){return t?t.slice(0,n(t)+1).replace(o,""):t}},957:(t,e,i)=>{var n="object"==typeof i.g&&i.g&&i.g.Object===Object&&i.g;t.exports=n},607:(t,e,i)=>{var n=i(705),o=Object.prototype,r=o.hasOwnProperty,s=o.toString,a=n?n.toStringTag:void 0;t.exports=function(t){var e=r.call(t,a),i=t[a];try{t[a]=void 0;var n=!0}catch(t){}var o=s.call(t);return n&&(e?t[a]=i:delete t[a]),o}},333:t=>{var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},639:(t,e,i)=>{var n=i(957),o="object"==typeof self&&self&&self.Object===Object&&self,r=n||o||Function("return this")();t.exports=r},990:t=>{var e=/\s/;t.exports=function(t){for(var i=t.length;i--&&e.test(t.charAt(i)););return i}},279:(t,e,i)=>{var n=i(218),o=i(771),r=i(841),s=Math.max,a=Math.min;t.exports=function(t,e,i){var d,l,c,f,u,g,h=0,p=!1,m=!1,w=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function v(e){var i=d,n=l;return d=l=void 0,h=e,f=t.apply(n,i)}function S(t){var i=t-g;return void 0===g||i>=e||i<0||m&&t-h>=c}function b(){var t=o();if(S(t))return y(t);u=setTimeout(b,function(t){var i=e-(t-g);return m?a(i,c-(t-h)):i}(t))}function y(t){return u=void 0,w&&d?v(t):(d=l=void 0,f)}function L(){var t=o(),i=S(t);if(d=arguments,l=this,g=t,i){if(void 0===u)return function(t){return h=t,u=setTimeout(b,e),p?v(t):f}(g);if(m)return clearTimeout(u),u=setTimeout(b,e),v(g)}return void 0===u&&(u=setTimeout(b,e)),f}return e=r(e)||0,n(i)&&(p=!!i.leading,c=(m="maxWait"in i)?s(r(i.maxWait)||0,e):c,w="trailing"in i?!!i.trailing:w),L.cancel=function(){void 0!==u&&clearTimeout(u),h=0,d=g=l=u=void 0},L.flush=function(){return void 0===u?f:y(o())},L}},218:t=>{t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},5:t=>{t.exports=function(t){return null!=t&&"object"==typeof t}},448:(t,e,i)=>{var n=i(239),o=i(5);t.exports=function(t){return"symbol"==typeof t||o(t)&&"[object Symbol]"==n(t)}},771:(t,e,i)=>{var n=i(639);t.exports=function(){return n.Date.now()}},493:(t,e,i)=>{var n=i(279),o=i(218);t.exports=function(t,e,i){var r=!0,s=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return o(i)&&(r="leading"in i?!!i.leading:r,s="trailing"in i?!!i.trailing:s),n(t,e,{leading:r,maxWait:e,trailing:s})}},841:(t,e,i)=>{var n=i(561),o=i(218),r=i(448),s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,d=/^0o[0-7]+$/i,l=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(r(t))return NaN;if(o(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=o(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=n(t);var i=a.test(t);return i||d.test(t)?l(t.slice(2),i?2:8):s.test(t)?NaN:+t}}},e={};function i(n){var o=e[n];if(void 0!==o)return o.exports;var r=e[n]={exports:{}};return t[n](r,r.exports,i),r.exports}i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{"use strict";var t=i(583);window,new t.ZP("ADVERTISING").info({message:"\n                      __\n ______ ____ _  __ __/ /_ _____\n/ __/ // /  ' \\/ // / / // (_-<\n\\__/\\_,_/_/_/_/\\_,_/_/\\_,_/___/\n   ADVERTISING LIBRARY LOADED",headerLength:1/0}),i(606)})()})();