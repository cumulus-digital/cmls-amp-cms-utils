(self.cmlsAmpUtils=self.cmlsAmpUtils||[]).push([[800],{8720:function(e,t,l){(e=>{const{h:t,Logger:s}=e.__CMLSINTERNAL.libs,a="wallpaperDetector",r=new s("WALLPAPER DETECTOR 0.1");class o{pos="wallpaper-ad";constructor(){const t=e.__CMLSINTERNAL.adTag;t.getSlots().some((e=>this.slotIsWallpaper(e)))||this.buildSlot(),r.info("Wallpaper detector loaded"),t.getSlots().some((e=>{this.slotIsWallpaper(e)&&this.checkSlotForCreative(e)&&this.handleCreative(e)})),t.addListener("slotRenderEnded",(t=>{const l=t.slot;if(this.slotIsWallpaper(l)){if(t.isEmpty)return void e.__CMLSINTERNAL?.wallpaperHandler?.reset();this.checkSlotForCreative(l)&&this.handleCreative(l)}}))}slotIsWallpaper(e){return e.getTargeting("pos").includes(this.pos)}buildSlot(){r.info("Wallpaper tag does not exist!")}checkSlotForCreative(t){t.getTargeting("prebid")?.includes("noprebid")||t.setTargeting("noprebid","noprebid");const l=e.document.getElementById(t.getSlotElementId());return l&&l.style.setProperty("display","none"),!!t.getResponseInformation()||(r.debug("Slot was empty."),e.__CMLSINTERNAL?.wallpaperHandler?.reset(),!1)}handleCreative(t){return r.debug("Slot has creative, passing to handler."),e.NO_SIDEWALLS=!0,e.__CMLSINTERNAL.wallpaperHandler?e.__CMLSINTERNAL.wallpaperHandler.process(t):Promise.all([l.e(275),l.e(836)]).then(l.bind(l,2032)).then((()=>{e.__CMLSINTERNAL.wallpaperHandler.process(t)})),!0}}e?.__CMLSINTERNAL?.adPath?e.__CMLSINTERNAL[a]=new o:e.addEventListener("cmls-adpath-discovered",(()=>{e.__CMLSINTERNAL[a]=new o}))})(window.self)}}]);