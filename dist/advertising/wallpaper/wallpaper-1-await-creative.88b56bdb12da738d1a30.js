(self.cmlsAmpUtils=self.cmlsAmpUtils||[]).push([[618],{6446:function(e,t,l){(e=>{const{h:t}=e._CMLS.libs,a="wallpaperDetector",s=new e._CMLS.Logger("WALLPAPER DETECTOR 0.1");class r{pos="wallpaper-ad";constructor(){e._CMLS.adTag.getSlots().some((e=>this.slotIsWallpaper(e)))||this.buildSlot(),s.info("Wallpaper detector loaded"),e._CMLS.adTag.getSlots().some((e=>{this.slotIsWallpaper(e)&&this.checkSlotForCreative(e)&&this.handleCreative(e)})),e._CMLS.adTag.addListener("slotRenderEnded",(t=>{const l=t.slot;if(this.slotIsWallpaper(l)){if(t.isEmpty)return void e._CMLS?.wallpaperHandler?.reset();this.checkSlotForCreative(l)&&this.handleCreative(l)}}))}slotIsWallpaper(e){return e.getTargeting("pos").includes(this.pos)}buildSlot(){s.info("Wallpaper tag does not exist!")}checkSlotForCreative(t){t.getTargeting("prebid")?.includes("noprebid")||t.setTargeting("noprebid","noprebid");const l=e.document.getElementById(t.getSlotElementId());return l&&l.style.setProperty("display","none"),!!t.getResponseInformation()||(s.debug("Slot was empty."),e._CMLS?.wallpaperHandler?.reset(),!1)}handleCreative(t){return s.debug("Slot has creative, passing to handler."),e.NO_SIDEWALLS=!0,e._CMLS.wallpaperHandler?e._CMLS.wallpaperHandler.process(t):Promise.all([l.e(216),l.e(510)]).then(l.bind(l,4711)).then((()=>{e._CMLS.wallpaperHandler.process(t)})),!0}}e?._CMLS?.adPath?e._CMLS[a]=new r:e.addEventListener("cmls-adpath-discovered",(()=>{e._CMLS[a]=new r}))})(window.self)}}]);