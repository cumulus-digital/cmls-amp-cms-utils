"use strict";(self.cmlsAmpUtils=self.cmlsAmpUtils||[]).push([[937],{9467:function(e,t,i){i.r(t);var s=i(7978);(e=>{const{h:t,domReady:n}=e._CMLS.libs,{waitForPlayer:a,detectPlayer:d,addAfterPageFrame:o}=e._CMLS.libs.playerTools,{scriptName:l,nameSpace:h,version:r,elementId:c}=s,m=new e._CMLS.Logger(`${l} ${r}`);let g=e.self;[e.top,e.parent,e.self].some((e=>{if(e?._CMLS)return g=e,!0}));class p{elementId=c;slot=null;context=g;adTag=g._CMLS.adTag;constructor(){this.elementId=c,this.context=g,this.adTag=g._CMLS.adTag,this.inject()}refresh(){this.slot&&this.adTag&&this.adTag.refresh(this.slot)}hasDiv(){return this.context.document.getElementById(this.elementId)}inject(){if(e.matchMedia("(min-width: 800px)").matches&&"tunegenie"!==d())return m.info("No TuneGenie player detected on desktop, wait for player before re-injecting."),void a().then((()=>{"tunegenie"===d()&&this.inject()}));if(!this.hasDiv()){m.info("Injecting...");const s=t("div",{id:this.elementId});a().then((()=>{if(s.classList.add("player-active"),e.matchMedia("(min-width: 800px)").matches&&"tunegenie"===d()){const e=this.context.document.getElementById("playerbar");if(e){const t=this.context.getComputedStyle(e);t?.zIndex&&(m.info("Raising ad div z-index above player"),s.style.setProperty("z-index",parseInt(t.zIndex)+1,"important"))}}})),Promise.all([i.e(216),i.e(658)]).then(i.bind(i,5858)).then((e=>{e?.default?.use&&e.default.use({target:this.context.document.body})}));const n=t("div",{id:`${this.elementId}-stub`});this.context.document.body.append(s,n),this.context.document.body.classList.add("has-sticky-320x50")}this.adTag.queue((()=>{this.adTag.getSlots().some((e=>{if(e.getSlotElementId()===this.elementId)return m.info("Destroying existing slot."),this.adTag.destroySlots([e]),!0})),m.info("Defining ad slot",this.elementId),this.slot=this.adTag.defineSlot({adUnitPath:`${this.context._CMLS.adPath}/stickyBottomAd`,size:[[120,60],[300,50],[320,50]],sizeMap:[[[800,0],[[120,60],[300,50],[320,50]]],[[0,0],[[300,50],[320,50]]]],div:this.elementId,collapse:!0,targeting:{pos:"playersponsorlogo"},prebid:!0}),this.slot?this.adTag.display(this.elementId,this.adTag.isInitialLoadDisabled()):m.warn("Slot creation failed!")}))}}const f=()=>{g._CMLS[h]instanceof p?g._CMLS[h].refresh():g._CMLS[h]=new p};e?._CMLS?.adPath?f():e.addEventListener("cmls-adpath-discovered",(()=>{f()}))})(window.self)}}]);